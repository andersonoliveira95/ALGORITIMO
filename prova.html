<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prova continuada 2 - iadsA - 2021</title>

    <style>
        img {
            height: 80px;
        }
    </style>
</head>

<body>
    <h1>Campo minado Daora</h1>
    <br>
    <button onclick="novo_jogo()">Novo jogo</button>
    <br><br>
    Minas: <span id="s_minas">?</span><br>
    Explosoes:<span id="s_explosao">0</span><br>
    pontos:<span id="s_pontos">0</span><br>

    <br><br>

    <img id="img1" style="display: none;" src="" alt="" onclick="virar1()" onkeyup="analisar()">
    <img id="img2" style="display: none;" src="" alt="" onclick="virar2()" onkeyup="analisar()">
    <br>
    <img id="img3" style="display: none;" src="" alt="" onclick="virar3()" onkeyup="analisar()">
    <img id="img4" style="display: none;" src="" alt="" onclick="virar4()" onkeyup="analisar()">
</body>

</html>

<script>
   
    var explosoa = 0;
    var pontos = 0;
    var sorteio1 = 0;
    var sorteio2 = 0;
    var sorteio3 = 0;
    var sorteio4 = 0;



    function novo_jogo() {

        sorteio1 = parseInt((Math.random() * 2) + 1);
        sorteio2 = parseInt((Math.random() * 2) + 1);
        sorteio3 = parseInt((Math.random() * 2) + 1);
        sorteio4 = parseInt((Math.random() * 2) + 1);

        var qntMinas = 0;
        
        if(sorteio1 > 1){
            qntMinas ++ ;
        }
        if(sorteio2 > 1){
          qntMinas ++  ;  
        }
        if(sorteio3 > 1){
          qntMinas ++ ;  
        }
        if(sorteio4 > 1){
          qntMinas ++ ;  
        }
        
        s_minas.innerHTML = `${qntMinas}`;

        img1.style.display = "inline";
        img2.style.display = "inline";
        img3.style.display = "inline";
        img4.style.display = "inline";

        img1.src = "https://image0.flaticon.com/icons/png/128/84/84042.png";
        img2.src = "https://image0.flaticon.com/icons/png/128/84/84042.png";
        img3.src = "https://image0.flaticon.com/icons/png/128/84/84042.png";
        img4.src = "https://image0.flaticon.com/icons/png/128/84/84042.png";

        explosoa = 0;
        pontos = 0;
       

        s_explosao.innerHTML = "0";
        s_pontos.innerHTML = "0";

    }

    function analisar (){
        if(qntMinas== 1 && pontos == 300){
        alert("Parabens!!! você encontrou todos os campos NÃO minados");
        }
        if(qntMinas== 2 && pontos == 200){
        alert("Parabens!!! você encontrou todos os campos NÃO minados");
        }
        if(qntMinas== 3 && pontos == 100){
        alert("Parabens!!! você encontrou todos os campos NÃO minados");
        }
        if(qntMinas== 4 && pontos == 0){
        alert("Todos os campos estão minados");
        }
    }
     

    function virar1() {
        if (sorteio1 == 1) {
            img1.src = "https://image0.flaticon.com/icons/png/128/61/61218.png";
            pontos = pontos + 100;
            s_pontos.innerHTML = `${pontos}`
        } else {
            img1.src = "https://image.flaticon.com/icons/png/128/112/112683.png";
            explosoa = explosoa + 1;
            s_explosao.innerHTML = `${explosoa}`;
        }
    }

    function virar2() {
        if (sorteio2 == 1) {
            img2.src = "https://image0.flaticon.com/icons/png/128/61/61218.png";
            pontos = pontos + 100;
            s_pontos.innerHTML = `${pontos}`
        } else {
            img2.src = "https://image.flaticon.com/icons/png/128/112/112683.png";
            explosoa = explosoa + 1;
            s_explosao.innerHTML = `${explosoa}`;
        }
    }

    function virar3() {
        if (sorteio3 == 1) {
            img3.src = "https://image0.flaticon.com/icons/png/128/61/61218.png";
            pontos = pontos + 100;
            s_pontos.innerHTML = `${pontos}`
        } else {
            img3.src = "https://image.flaticon.com/icons/png/128/112/112683.png";
            explosoa = explosoa + 1;
            s_explosao.innerHTML = `${explosoa}`;
        }
    }

    function virar4() {
        if (sorteio4 == 1) {
            img4.src = "https://image0.flaticon.com/icons/png/128/61/61218.png";
            pontos = pontos + 100;
            s_pontos.innerHTML = `${pontos}`
        } else {
            img4.src = "https://image.flaticon.com/icons/png/128/112/112683.png";
            explosoa = explosoa + 1;
            s_explosao.innerHTML = `${explosoa}`;
        }
    }

</script>